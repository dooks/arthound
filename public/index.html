<!DOCTYPE html>

<head>
<title>ArtHound</title>
<meta name="viewport" content="width=device-width, initial-scale=1,
                               maximum-scale=1 user-scalable=no">

<!-- Bootstrap includes -->
<link rel="stylesheet" type="text/css" href="css/bootstrap.min.css" />
<link rel="stylesheet" type="text/css" href="css/bootstrap-theme.min.css" />
<link href='https://fonts.googleapis.com/css?family=Arvo' rel='stylesheet' type='text/css'>

<!-- User includes -->
<link rel="stylesheet" type="text/css" href="css/index.css" />
<link rel="stylesheet" type="text/css" href="css/jquery.scrollbar.css" />
</head>

<body ng-app="ngHound" onkey>
<!-- search bar -->
<div id="base_searchbar" ng-controller="SearchbarCtrl as searchbar"
  ng-class="{'absolute-wrapper': 1,
             hidden: !searchbar.substates['SEARCH'],
             'base_view_loading': searchbar.substates['LOAD']}">
  <div class="no-click col-xs-12 absolute-wrapper"></div> <!-- searchbar background -->
  <img class="img-responsive" src="img/spinner.gif" />
  <span id="searchbar_search" class="col-xs-12 absolute-wrapper">{{ searchbar.query }}</span>
</div>

<!-- title -->
<div id="base_title_container" ng-controller="TitleCtrl as title"
     ng-class="{hidden: title.state != 'DEFAULT'}">
  <div id="base_title">

    <h1>Art Hound</h1>
    <p>Search tagged images across:</p>
    <p>
      <a href="https://www.deviantart.com">DeviantArt</a>,
      <a href="https://www.imgur.com">Imgur</a>
    </p>
    <p>Start typing anywhere on the page to search, or click the icon.</p>
    <p><span navclick="search" class="glyphicon glyphicon-search"></span></p>
  </div>
</div>


<!-- viewport -->
<div id="base_view" ng-controller="ViewCtrl as view"
  ng-class="{'container-fluid': 1,
             'relative-wrapper': 1,
             'base_view_loading': view.substates['LOAD'],
             'no-list': (!view.substates['LIST'])}">

  <!-- listing -->
  <div id="base_listing" ng-controller="ListingCtrl as listing"
    ng-class="{hidden: !(listing.substates['LIST']),
              'absolute-wrapper': 1,
              'full-listing': listing.substates['FULL']}">
    <div id="page_scrollbar" data-jquery-scrollbar="listing.scrollbar">
      <div id="listing_grid">
      <div ng-repeat="page in listing.listing">
        <div ng-repeat="item in page.data">
          <div tile index="{{ item.index }}"
            ng-class="{'image-square-container-selected': item.index == listing.current,
                       'image-square-container': true,
                       'image-square-container-full': listing.isFull}">
            <div style="background-image: url('{{item.thumbs}}')"></div>
          </div>
        </div>
      </div>
      </div>

      <div id="page_next" ng-class= "{'page-button': true,
        'page-button-inactive': !listing.can_page,
        'hidden': listing.last_page }"
        navclick="page_next">
        <span class="glyphicon glyphicon-option-horizontal"></span>
      </div>

    </div>
  </div>

  <!-- image -->
  <div id="base_image" ng-controller="ImageCtrl as image"
    ng-class="{hidden: image.state != 'ACTIVE'}">
    <div id="image_overlay" ng-controller="OverlayCtrl as overlay"
      ng-class="{hidden: !overlay.substates['OVERLAY']}">
      <div id="overlay_list" class="overlay_button overlay_back">
          <span navclick="list" class="glyphicon glyphicon-resize-full"></span>
      </div>

      <div id="overlay_prev" class="overlay_button overlay_back">
          <span navclick="prev" class="glyphicon glyphicon-menu-left"></span>
      </div>
      <div id="overlay_next" class="overlay_button overlay_back">
          <span navclick="next" class="glyphicon glyphicon-menu-right"></span>
      </div>

      <div id="overlay_info" class="overlay_back" ng-controller="InfoCtrl as info">
        <div><ul>
          <li><a href="{{ info.current.url }}">{{ info.current.title }}</a></li>
          <li>by <a href="http://{{ info.current.author_link }}"> {{ info.current.author }}</a></li>
          <li>{{ info.date }}</li>
        </ul></div>

        <div><ul>
          <li><span navclick="save" class="glyphicon glyphicon-save">       </span></li>
          <li><span navclick="info" class="glyphicon glyphicon-info-sign">  </span></li>
        </ul></div>
      </div>
    </div>

    <img id="image_front" navclick="overlay" ng-class="{base_image_zoom: image.current.zoom}"/>
    <div id="image_back"  ng-class="{hidden: image.current.zoom}"></div>
  </div>


</div>

<!-- jQuery includes -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>

<!-- Angular includes -->
<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.2/angular.min.js"></script>
<script src="js/angular-mocks.js"></script>

<!-- Bootstrap includes -->
<script type="text/javascript" src="js/bootstrap.min.js"></script>
<script type="text/javascript" src="js/bootstrap-toolkit.min.js"></script>

<!-- Plugin includes -->
<script src="js/jquery.scrollbar.js"></script>

<!-- User includes -->
<script type="text/javascript" src="js/angular.js"></script>
<script type="text/javascript" src="js/services.js"></script>
<script type="text/javascript" src="js/controller.js"></script>
<script type="text/javascript" src="js/directives.js"></script>
<script type="text/javascript" src="js/index.js"></script>

<!--<script type="text/javascript" src="tests/State.js"></script>-->
</body>

</html>
